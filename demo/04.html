<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>AniMachine</title>
	<link rel="stylesheet" href="../css/light.css">
	<link rel="stylesheet" href="../dist/animate.min.css">
	<script src='../dist/ani-machine.min.js'></script>
	<script>
	function all(selector, cb) {
		[].forEach.call(document.querySelectorAll(selector), function(elm) {
			cb && cb(elm);
		});
	}

	function changeColor() {
		all('.element', function(elm) {
			classie.add(elm, 'element--blue');
		});
	}

	function hide() {
		all('.element', function(elm) {
			classie.add(elm, 'element--hidden');
		});
	}

	function show() {
		all('.element', function(elm) {
			classie.remove(elm, 'element--hidden');
			classie.remove(elm, 'element--blue');
		});
	}
	</script>
</head>
<body>
	<div class="container">
		<h2 class="title">Before & After Callback</h2>
		<span class="subtitle">Move your mouse on cube and see what happend.</span>
		<span class="subtitle">And Leave your mouse from cube and ...</span>
		<div class="element" 
			data-am=":before show() :go enter :trigger .btn--reveal click"
			data-am-enter=":enter left move 200px scale 40% over 1.0s :go intro"
			data-am-intro=":on enter :animate pulse :before changeColor()
						   :on leave :animate tada :go outro"
			data-am-outro=":animate bounceOutRight :after hide()"
		</div>
		<p><a class="btn btn--reveal">Restart</a></p>
	</div>
	<script>am.start();</script>
</body>
</html>